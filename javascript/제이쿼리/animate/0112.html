<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>이미지 슬라이드</title>
    <style>
      body {
        margin: 20px auto;
        padding: 0;
        width: 620px;
        background: #192839;
      }
      .thumbs {
        float: left;
        width: 100px;
      }
      .thumbs img {
        margin-bottom: 3px;
        width: 100px;
        height: 80px;
        padding: 5px;
        border: 1px solid #ccc;
      }
      .thumbs img:hover {
        border-color: #fff;
      }
      .thumbs img.on {
        border-color: #ef4018;
      }
      #largeImg {
        margin-left: 120px;
        padding: 5px;
        width: 500px;
        height: 280px;
        border: 1px solid #ccc;
      }
      #largeImg img {
        width: 500px;
        height: 280px;
      }
    </style>
    <script src="../js/jquery-3.6.1.min.js"></script>
    <script>
      $(function () {
        /*$(".thumbs a").click(function(e){
       e.preventDefault();
       var path = $(this).attr("href");
      //$("#largeImg img").attr("src",path);
      //$("#largeImg img").attr({src:path});
       if(path != $("#largeImg img").attr("src")){
           $("#largeImg img").attr({src:path});
           $("#largeImg img").css({opacity:"0"}).stop().animate({opacity:"1"},1000);
       }
   });*/
        function fnc() {
          var path = $(this).find("img").attr("src");
          console.log(path);
          //$("#largeImg img").attr("src",path);
          //$("#largeImg img").attr({src:path});
          if (path != $("#largeImg img").attr("src")) {
            $("#largeImg img").attr({ src: path });
            $("#largeImg img")
              .css({ opacity: "0" })
              //   .stop()
              .animate({ opacity: "1" }, 1000);
          }
        }
        $(".thumbs a").click(function (e) {
          e.preventDefault();
          //var path = $(this).children("img").attr("src");
          fnc();
        });
        var current = 1;
        $(".thumbs a")
          .eq(current - 1)
          .find("img")
          .addClass("on");
        function interMove() {
          if (current < 3) {
            current++;
          } else {
            current = 1;
          }
          console.log("current :" + current);
          /* var path = "images/photo"+current+".jpg";
     $("#largeImg img").attr("src",path).css({opacity:"0"}).stop()
                       .animate({opacity:"1"},500);*/
          var path = $(".thumbs a").attr("href");
          $("#largeImg img")
            .attr("src", path.replace(path.slice(-5, -4), current))
            .css({ opacity: "0" })
            // .stop()
            .animate({ opacity: "1" }, 500);
          $(".thumbs a")
            .find("img")
            .each(function () {
              if ($(this).hasClass("on")) {
                $(this).removeClass("on");
              }
            });
          $(".thumbs a")
            .eq(current - 1)
            .find("img")
            .addClass("on");
        }

        var interval = setInterval(interMove, 3000);

        $(".thumbs a").hover(
          function () {
            clearInterval(interval);
          },
          function () {
            interval = setInterval(interMove, 3000);
          }
        );
      });
    </script>
  </head>
  <body>
    <div class="thumbs">
      <a href="../../images/photo1.jpg"
        ><img src="../../images/photo1.jpg" alt="photo1"
      /></a>
      <a href="../../images/photo2.jpg"
        ><img src="../../images/photo2.jpg" alt="photo2"
      /></a>
      <a href="../../images/photo3.jpg"
        ><img src="../../images/photo3.jpg" alt="photo3"
      /></a>
    </div>
    <div id="largeImg"><img src="../../images/photo1.jpg" alt="photo1" /></div>
  </body>
</html>
